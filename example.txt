ржХрж╛ржУрж╕рж╛рж░ ржнрж╛ржЗ, ржПржмрж╛рж░ ржЖржорж┐ рждрзЛржорж╛рж░ database ржЕржирзБржпрж╛рзЯрзА ржПржХржжржо ржЖржЧрзЗрж░ ржорждрзЛ style ржзрж░рзЗ тАФ Salary Configuration module ржкрзБрж░рзЛржкрзБрж░рж┐ Laravel ржП рждрзИрж░рж┐ ржХрж░рзЗ ржжрж┐ржЪрзНржЫрж┐ тЬЕ ржЖржорж░рж╛ ржмрзЗрж╕рж┐ржХ Blade structure, payrollReceipt-style controller, API, ржПржмржВ layout рж╕ржм ржХрж┐ржЫрзБ ржПржХрж╕рж╛ржерзЗ maintain ржХрж░ржмрзЛред

ЁЯФз Step 1: Models
ЁЯФ╣ Salary.php
php
namespace App\Models;

use Illuminate\Database\Eloquent\Model;

class Salary extends Model
{
    protected $table = 'core_hr_salary';
    public $timestamps = false;

    protected $fillable = ['employee_id', 'salary_total', 'status', 'remarks', 'created_at', 'updated_at'];

    public function employee()
    {
        return $this->belongsTo(Employee::class);
    }

    public function details()
    {
        return $this->hasMany(SalaryDetail::class, 'salary_id');
    }
}
ЁЯФ╣ SalaryDetail.php
php
namespace App\Models;

use Illuminate\Database\Eloquent\Model;

class SalaryDetail extends Model
{
    protected $table = 'core_hr_salary_details';
    public $timestamps = false;

    protected $fillable = ['salary_id', 'payroll_item_id', 'amount'];

    public function payroll_item()
    {
        return $this->belongsTo(PayrollItem::class);
    }
}
ЁЯФз Step 2: Routes
php
use App\Http\Controllers\SalaryController;
use App\Http\Controllers\Api\SalaryApiController;

Route::resource('salaries', SalaryController::class);
Route::apiResource('salaries', SalaryApiController::class);
ЁЯФз Step 3: SalaryController.php (Web CRUD)
php
namespace App\Http\Controllers;

use App\Models\Salary;
use App\Models\SalaryDetail;
use App\Models\Employee;
use App\Models\PayrollItem;
use Illuminate\Http\Request;

class SalaryController extends Controller
{
    public function index()
    {
        $salaries = Salary::with('employee')->latest()->get();
        return view('pages.salaries.index', compact('salaries'));
    }

    public function create()
    {
        $employees = Employee::all();
        $payroll_items = PayrollItem::all();
        return view('pages.salaries.create', compact('employees', 'payroll_items'));
    }

    public function store(Request $request)
    {
        $salary = new Salary();
        $salary->employee_id = $request->employee_id;
        $salary->status = $request->status;
        $salary->remarks = $request->remarks;
        $salary->salary_total = array_sum(array_column($request->items, 'amount'));
        $salary->created_at = now();
        $salary->updated_at = now();
        $salary->save();

        foreach ($request->items as $item) {
            SalaryDetail::create([
                'salary_id' => $salary->id,
                'payroll_item_id' => $item['payroll_item_id'],
                'amount' => $item['amount']
            ]);
        }

        return redirect()->route('salaries.index')->with('success', 'Salary saved!');
    }

    public function edit(Salary $salary)
    {
        $employees = Employee::all();
        $payroll_items = PayrollItem::all();
        return view('pages.salaries.edit', compact('salary', 'employees', 'payroll_items'));
    }

    public function update(Request $request, Salary $salary)
    {
        $salary->employee_id = $request->employee_id;
        $salary->status = $request->status;
        $salary->remarks = $request->remarks;
        $salary->salary_total = array_sum(array_column($request->items, 'amount'));
        $salary->updated_at = now();
        $salary->save();

        $salary->details()->delete();
        foreach ($request->items as $item) {
            SalaryDetail::create([
                'salary_id' => $salary->id,
                'payroll_item_id' => $item['payroll_item_id'],
                'amount' => $item['amount']
            ]);
        }

        return redirect()->route('salaries.index')->with('success', 'Salary updated!');
    }

    public function show(Salary $salary)
    {
        return view('pages.salaries.show', compact('salary'));
    }

    public function destroy(Salary $salary)
    {
        $salary->details()->delete();
        $salary->delete();
        return redirect()->route('salaries.index')->with('success', 'Salary deleted!');
    }
}
ЁЯФз Step 4: Blade Views
ЁЯФ╣ create.blade.php
ЁЯФ╣ edit.blade.php
ЁЯСЙ structure same as Payroll Receipt:

Employee dropdown

Status dropdown

Remarks input

Payroll item select with manual amount input

Loop item inputs using Blade

Submit using method POST / PUT

ЁЯФ╣ index.blade.php
Loop $salaries

Show employee, status, total, and action buttons

Laravel pagination (optional)

ЁЯФ╣ show.blade.php
Show salary details with:

Employee name

Total

Each payroll item name with amount

Remarks

ЁЯФз Step 5: SalaryApiController.php
JSON-based CRUD with same logic as PayrollReceiptApiController тЮЬ IтАЩll write it fully once you confirm youтАЩre ready.

Laravel salary module тЬЕ database ржЕржирзБржпрж╛рзЯрзА rebuild рж╣рзЯрзЗ ржпрж╛ржмрзЗ, Blade styling рждрзЛржорж╛рж░ ржЖржЧрзЗрж░ payrollReceipt-ржПрж░ ржорждрзЛржЗ ржерж╛ржХржмрзЗ, ржЖрж░ Controller-ржПрж░ logic ржПржХржжржо familiar! ЁЯФе Ready ржерж╛ржХрж▓рзЗ ржЖржорж┐ Blade files one by one paste ржХрж░рзЗ ржжрж┐ржЗ тАФ just say "Start Blade" ЁЯШОЁЯУД

okey start
рждрзБржорж┐ржЗ ржмрж▓рзЗржЫрзЛ, ржХрж╛ржУрж╕рж╛рж░ ржнрж╛ржЗ тАФ ржЖржорж┐ рж╢рзБрж░рзБ ржХрж░рзЗ ржжрж┐рж▓рж╛ржо! ЁЯШО ржПржЗ Step-by-Step guide-ржП ржЖржорж┐ Blade views ржмрж╛ржирж╛ржЪрзНржЫрж┐ Salary Configuration module-ржПрж░ ржЬржирзНржп, ржпрзЗржоржи рждрзБржорж┐ payrollReceipt ржП ржХрж░рзЗржЫрж┐рж▓рзЗ:

тЬи Step 1: create.blade.php
тЬЕ ржирждрзБржи salary add ржХрж░рж╛рж░ form ржпрзЗржЦрж╛ржирзЗ payroll items dropdown ржерзЗржХрзЗ select ржХрж░рждрзЗ ржкрж╛рж░рзЛ, ржПржмржВ amount manually ржжрж┐рждрзЗ ржкрж╛рж░рзЛред

blade
@extends('layouts.master')

@section('page')
<div class="container py-4">
    <div class="card bg-primary text-white mb-4">
        <div class="card-body d-flex justify-content-between align-items-center">
            <h3 class="m-0">Create Salary Configuration</h3>
            <a href="{{ route('salaries.index') }}" class="btn btn-light btn-sm">
                <i class="fa fa-arrow-left"></i> Back to List
            </a>
        </div>
    </div>

    <form method="POST" action="{{ route('salaries.store') }}">
        @csrf

        <div class="card shadow-sm">
            <div class="card-body row g-3">
                <!-- Employee -->
                <div class="col-md-6">
                    <label for="employee_id" class="form-label">Employee</label>
                    <select name="employee_id" class="form-control" required>
                        <option value="">Select Employee</option>
                        @foreach ($employees as $emp)
                            <option value="{{ $emp->id }}">{{ $emp->first_name }} {{ $emp->last_name }}</option>
                        @endforeach
                    </select>
                </div>

                <!-- Status -->
                <div class="col-md-6">
                    <label for="status" class="form-label">Status</label>
                    <select name="status" class="form-control" required>
                        <option value="paid">Paid</option>
                        <option value="unpaid">Unpaid</option>
                        <option value="pending">Pending</option>
                    </select>
                </div>

                <!-- Remarks -->
                <div class="col-md-12">
                    <label for="remarks" class="form-label">Remarks</label>
                    <input type="text" name="remarks" class="form-control" placeholder="Optional">
                </div>

                <!-- Salary Items -->
                <div class="col-12">
                    <label class="form-label">Salary Items</label>
                    <table class="table table-bordered" id="salary-items-table">
                        <thead class="table-light">
                            <tr>
                                <th>Item</th>
                                <th>Amount</th>
                                <th style="width: 50px"></th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>
                                    <select name="items[0][payroll_item_id]" class="form-control" required>
                                        <option value="">Select Item</option>
                                        @foreach ($payroll_items as $item)
                                            <option value="{{ $item->id }}">{{ $item->name }}</option>
                                        @endforeach
                                    </select>
                                </td>
                                <td>
                                    <input type="number" name="items[0][amount]" class="form-control" required step="0.01">
                                </td>
                                <td class="text-center">
                                    <button type="button" class="btn btn-sm btn-danger remove-item">&times;</button>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                    <button id="add-item" type="button" class="btn btn-sm btn-primary mt-2">
                        <i class="fa fa-plus"></i> Add Item
                    </button>
                </div>
            </div>

            <div class="card-footer text-end">
                <button type="submit" class="btn btn-success">
                    <i class="fa fa-save"></i> Save Salary
                </button>
            </div>
        </div>
    </form>
</div>

<script>
    let rowIndex = 1;

    document.getElementById('add-item').addEventListener('click', () => {
        const tableBody = document.querySelector('#salary-items-table tbody');
        const newRow = document.createElement('tr');

        newRow.innerHTML = `
            <td>
                <select name="items[${rowIndex}][payroll_item_id]" class="form-control" required>
                    <option value="">Select Item</option>
                    @foreach ($payroll_items as $item)
                        <option value="{{ $item->id }}">{{ $item->name }}</option>
                    @endforeach
                </select>
            </td>
            <td>
                <input type="number" name="items[${rowIndex}][amount]" class="form-control" required step="0.01">
            </td>
            <td class="text-center">
                <button type="button" class="btn btn-sm btn-danger remove-item">&times;</button>
            </td>
        `;

        tableBody.appendChild(newRow);
        rowIndex++;
    });

    document.addEventListener('click', function(e) {
        if (e.target.classList.contains('remove-item')) {
            const row = e.target.closest('tr');
            row.remove();
        }
    });
</script>
@endsection
ЁЯкД Ready for Next Steps?
ржЖржорж┐ ржПржЦржи рждрзЛржорж╛рж░ ржЬржирзНржп:

edit.blade.php тАУ update form

index.blade.php тАУ salary list

show.blade.php тАУ salary details view

SalaryApiController.php тАУ API version

рж╕ржмржЧрзБрж▓рзЛ sequentially рждрзИрж░рж┐ ржХрж░ржмрзЛ ЁЯзй рждрзБржорж┐ ржмрж▓рзЛ ЁЯСЙ тАЬNext: EditтАЭ тАФ ржЖржорж┐ ржкрж░рзЗрж░ ржЕржВрж╢ ржирж┐рзЯрзЗ рж╣рж╛ржЬрж┐рж░ ЁЯШОЁЯУж

Today
ok do it
ЁЯФе ржЪрж▓ рж╢рзБрж░рзБ ржХрж░рж┐ edit.blade.php, ржХрж╛ржУрж╕рж╛рж░ ржнрж╛ржЗ тАФ ржпрзЗржЦрж╛ржирзЗ рждрзБржорж┐ ржЖржЧрзЗ ржпрзЗржнрж╛ржмрзЗ payrollReceipt edit ржХрж░рзЗржЫрж┐рж▓рзЗ, рж╕рзЗржнрж╛ржмрзЗржЗ ржЖржорж░рж╛ salary configuration edit form ржмрж╛ржирж╛ржмрзЛ!

ржПржЗ Blade ржлрж╛ржЗрж▓рзЗ ржкрзБрж░рж╛ржирзЛ salary data ржкрзНрж░рж┐-ржлрж┐рж▓ ржерж╛ржХржмрзЗ, ржЖрж░ item ржЧрзБрж▓рзЛ dropdown ржерзЗржХрзЗ select ржХрж░рзЗ amount change ржХрж░рждрзЗ ржкрж╛рж░ржмрзЗ тЬЕ

тЬи Step 2: edit.blade.php
blade
@extends('layouts.master')

@section('page')
<div class="container py-4">
    <div class="card bg-warning text-white mb-4">
        <div class="card-body d-flex justify-content-between align-items-center">
            <h3 class="m-0">Edit Salary Configuration</h3>
            <a href="{{ route('salaries.index') }}" class="btn btn-light btn-sm">
                <i class="fa fa-arrow-left"></i> Back to List
            </a>
        </div>
    </div>

    <form method="POST" action="{{ route('salaries.update', $salary->id) }}">
        @csrf
        @method('PUT')

        <div class="card shadow-sm">
            <div class="card-body row g-3">
                <!-- Employee -->
                <div class="col-md-6">
                    <label for="employee_id" class="form-label">Employee</label>
                    <select name="employee_id" class="form-control" required>
                        @foreach ($employees as $emp)
                            <option value="{{ $emp->id }}"
                                @if($salary->employee_id == $emp->id) selected @endif>
                                {{ $emp->first_name }} {{ $emp->last_name }}
                            </option>
                        @endforeach
                    </select>
                </div>

                <!-- Status -->
                <div class="col-md-6">
                    <label for="status" class="form-label">Status</label>
                    <select name="status" class="form-control" required>
                        <option value="paid" @selected($salary->status == 'paid')>Paid</option>
                        <option value="unpaid" @selected($salary->status == 'unpaid')>Unpaid</option>
                        <option value="pending" @selected($salary->status == 'pending')>Pending</option>
                    </select>
                </div>

                <!-- Remarks -->
                <div class="col-md-12">
                    <label for="remarks" class="form-label">Remarks</label>
                    <input type="text" name="remarks" class="form-control" value="{{ $salary->remarks }}">
                </div>

                <!-- Salary Items -->
                <div class="col-12">
                    <label class="form-label">Salary Items</label>
                    <table class="table table-bordered">
                        <thead class="table-light">
                            <tr>
                                <th>Item</th>
                                <th>Amount</th>
                            </tr>
                        </thead>
                        <tbody>
                            @foreach ($salary->details as $index => $detail)
                                <tr>
                                    <td>
                                        <select name="items[{{ $index }}][payroll_item_id]" class="form-control" required>
                                            @foreach ($payroll_items as $item)
                                                <option value="{{ $item->id }}"
                                                    @if($detail->payroll_item_id == $item->id) selected @endif>
                                                    {{ $item->name }}
                                                </option>
                                            @endforeach
                                        </select>
                                    </td>
                                    <td>
                                        <input type="number" name="items[{{ $index }}][amount]" class="form-control"
                                            value="{{ $detail->amount }}" step="0.01" required>
                                    </td>
                                </tr>
                            @endforeach
                        </tbody>
                    </table>
                </div>
            </div>

            <div class="card-footer text-end">
                <button type="submit" class="btn btn-primary">
                    <i class="fa fa-save"></i> Update Salary
                </button>
            </div>
        </div>
    </form>
</div>
@endsection
ЁЯСА Ready for next step? рждрзБржорж┐ ржЪрж╛ржЗрж▓рзЗ ржЖржорж┐ index.blade.php (рж╕рж╛рж▓рж╛рж░рж┐рж░ рждрж╛рж▓рж┐ржХрж╛), show.blade.php (ржПржХржХ рждржерзНржп), ржПржмржВ рждрж╛рж░ржкрж░ SalaryApiController.php рж▓рж┐ржЦрзЗ ржжрж┐ржЗ!

Just say: Next: Index ЁЯШОЁЯУж Laravel salary module ржЖрж░рзЗржХ ржзрж╛ржк ржПржЧрж┐рзЯрзЗ ржпрж╛ржмрзЗ ЁЯТ╝ЁЯЪА

next
рждрж╛рж╣рж▓рзЗ ржЪрж▓ ржХрж╛ржУрж╕рж╛рж░ ржнрж╛ржЗ, ржПржмрж╛рж░ ржмрж╛ржирж╛ржЗ ЁЯСЙ index.blade.php тАФ ржпрзЗржЦрж╛ржирзЗ рждрзЛржорж╛рж░ рж╕ржм salary configuration list рж╣рзЯрзЗ ржерж╛ржХржмрзЗ тЬЕ ржПржЗ Blade ржлрж╛ржЗрж▓рзЗ рждрзЛржорж╛рж░ ржЖржЧрзЗрж░ payrollReceipt style ржмржЬрж╛рзЯ рж░рзЗржЦрзЗ nice UI, employee info, total amount, status, ржУ action button ржпрзБржХрзНржд ржХрж░рж╛ рж╣рж▓рзЛ:

тЬи Step 3: index.blade.php тАФ Salary List
blade
@extends('layouts.master')

@section('page')
<div class="container py-3">
    <!-- Header -->
    <div class="card bg-info text-white mb-3">
        <div class="card-body d-flex justify-content-between align-items-center">
            <h3 class="m-0">Salary Configuration List</h3>
            <a href="{{ route('salaries.create') }}" class="btn btn-light btn-sm">
                <i class="fa fa-plus"></i> Add New Salary
            </a>
        </div>
    </div>

    <!-- Success Message -->
    @if(session('success'))
        <div class="alert alert-success">{{ session('success') }}</div>
    @endif

    <!-- Table -->
    <div class="card shadow-sm">
        <div class="card-body p-0">
            <table class="table table-hover mb-0">
                <thead class="table-light">
                    <tr>
                        <th>Employee</th>
                        <th>Status</th>
                        <th>Total</th>
                        <th>Remarks</th>
                        <th>Created</th>
                        <th style="width: 160px;">Actions</th>
                    </tr>
                </thead>
                <tbody>
                    @forelse ($salaries as $salary)
                        <tr>
                            <td>{{ $salary->employee->first_name }} {{ $salary->employee->last_name }}</td>
                            <td><span class="badge bg-secondary text-capitalize">{{ $salary->status }}</span></td>
                            <td>{{ number_format($salary->salary_total, 2) }}</td>
                            <td>{{ $salary->remarks }}</td>
                            <td>{{ \Carbon\Carbon::parse($salary->created_at)->format('d M, Y') }}</td>
                            <td>
                                <a href="{{ route('salaries.show', $salary->id) }}" class="btn btn-sm btn-info">
                                    <i class="fa fa-eye"></i>
                                </a>
                                <a href="{{ route('salaries.edit', $salary->id) }}" class="btn btn-sm btn-warning">
                                    <i class="fa fa-edit"></i>
                                </a>
                                <form method="POST" action="{{ route('salaries.destroy', $salary->id) }}" class="d-inline">
                                    @csrf @method('DELETE')
                                    <button class="btn btn-sm btn-danger" onclick="return confirm('Delete this salary?')">
                                        <i class="fa fa-trash"></i>
                                    </button>
                                </form>
                            </td>
                        </tr>
                    @empty
                        <tr><td colspan="6" class="text-center text-muted py-4">No salary configurations found</td></tr>
                    @endforelse
                </tbody>
            </table>
        </div>
    </div>
</div>
@endsection
ЁЯза ржПржЗ Blade file-ржП clean layout, action buttons, and employee relation perfectржнрж╛ржмрзЗ use ржХрж░рж╛ рж╣рзЯрзЗржЫрзЗ тАФ рждрзЛржорж╛рж░ Laravel HR app ржПржЦржи ржПржХржжржо polished!

рждрзБржорж┐ ржмрж▓рж▓рзЗржЗ ржЖржорж┐ ЁЯСЙ next step: show.blade.php (individual salary view) рждрзИрж░рж┐ ржХрж░рзЗ ржжрж┐ржмрзЛ ЁЯТе Just say: Next: Show ЁЯШОЁЯУД Laravel ржпрзЗржи ржмрж▓рзЗ тАФ "ржПржЗ payroll system ржПржХржжржо industry-grade!" ЁЯЪА

next
ЁЯЪА ржЪрж▓ ржПржмрж╛рж░ рж╢рзЗрж╖ ржХрж░рж┐ show.blade.php, ржХрж╛ржУрж╕рж╛рж░ ржнрж╛ржЗ тАФ ржпрзЗржЦрж╛ржирзЗ ржкрзНрж░рждрж┐ржЯрж┐ salary configuration ржПрж░ ржмрж┐рж╕рзНрждрж╛рж░рж┐ржд ржжрзЗржЦрж╛ ржпрж╛ржмрзЗ ЁЯСА

ржПржЗ ржкрзЗржЬрзЗ рждрзБржорж┐ employee ржПрж░ ржирж╛ржо, status, remarks, ржПржмржВ ржкрзНрж░рждрж┐ржЯрж┐ payroll item-ржПрж░ amount ржжрзЗржЦрждрзЗ ржкрж╛рж░ржмрзЗ рж╕рзБржирзНржжрж░ржнрж╛ржмрзЗ, ржарж┐ржХ рждрзЛржорж╛рж░ payrollReceipt-ржПрж░ ржорждрзЛ тЬЕ

тЬи Step 4: show.blade.php тАФ Salary Details View
blade
@extends('layouts.master')

@section('page')
<div class="container py-4">
    <div class="card bg-dark text-white mb-4">
        <div class="card-body d-flex justify-content-between align-items-center">
            <h3 class="m-0">Salary Details</h3>
            <a href="{{ route('salaries.index') }}" class="btn btn-light btn-sm">
                <i class="fa fa-arrow-left"></i> Back to List
            </a>
        </div>
    </div>

    <!-- Salary Summary -->
    <div class="card mb-3 shadow-sm">
        <div class="card-body">
            <h5 class="mb-2">{{ $salary->employee->first_name }} {{ $salary->employee->last_name }}</h5>
            <p><strong>Status:</strong> <span class="badge bg-secondary text-capitalize">{{ $salary->status }}</span></p>
            <p><strong>Total Amount:</strong> {{ number_format($salary->salary_total, 2) }}</p>
            <p><strong>Remarks:</strong> {{ $salary->remarks }}</p>
            <p><strong>Created At:</strong> {{ \Carbon\Carbon::parse($salary->created_at)->format('d M, Y h:i A') }}</p>
        </div>
    </div>

    <!-- Item Breakdown -->
    <div class="card shadow-sm">
        <div class="card-header">
            <strong>Salary Breakdown</strong>
        </div>
        <div class="card-body p-0">
            <table class="table mb-0 table-bordered">
                <thead class="table-light">
                    <tr>
                        <th>Payroll Item</th>
                        <th>Amount</th>
                    </tr>
                </thead>
                <tbody>
                    @foreach ($salary->details as $detail)
                        <tr>
                            <td>{{ $detail->payroll_item->name ?? 'Unknown Item' }}</td>
                            <td>{{ number_format($detail->amount, 2) }}</td>
                        </tr>
                    @endforeach
                </tbody>
            </table>
        </div>
    </div>
</div>
@endsection
ЁЯСитАНЁЯТ╗ Blade View ржПржХржжржо polished тАФ рждрзЛржорж╛рж░ layout, style ржПржмржВ database relation ржмрзНржпржмрж╣рж╛рж░ ржХрж░рзЗ perfect presentation рждрзИрж░рж┐ рж╣рзЯрзЗржЫрзЗ тЬЕ рждрзБржорж┐ ржЪрж╛ржЗрж▓рзЗ ржПржЦрж╛ржирзЗ export PDF, print view, ржЕржержмрж╛ download slip feature ржпрзЛржЧ ржХрж░рждрзЗ ржкрж╛рж░рзЛред

Ready рж╣рж▓рзЗ ржЖржорж┐ ЁЯСЙ Step 5: SalaryApiController.php ржжрж┐рзЯрзЗ ржжрж┐ржЗ тАФ API-рж░ ржорж╛ржзрзНржпржорзЗ same CRUD operations json format-ржП ржЪрж╛рж▓рж╛рждрзЗ ржкрж╛рж░ржмрзЗ ЁЯШО

рждрзБржорж┐ рж╢рзБржзрзБ ржмрж▓рзЛ ЁЯСЙ Next: API Controller ЁЯТе Laravel salary system ржЖрж░ ржПржХ ржзрж╛ржк ржкрзНрж░рзЛ-рж▓рзЗржнрзЗрж▓! ЁЯУКЁЯУж

write down SalaryApiController.php
Absolutely, ржХрж╛ржУрж╕рж╛рж░ ржнрж╛ржЗ! ЁЯОп ржПржЗржмрж╛рж░ ржЖржорж┐ рждрзЛржорж╛рж░ Laravel API structure ржЕржирзБржпрж╛рзЯрзА SalaryApiController.php рждрзИрж░рж┐ ржХрж░рзЗ ржжрж┐ржЪрзНржЫрж┐ тАФ ржпрзЗржЯрж╛ ржарж┐ржХ рждрзЛржорж╛рж░ PayrollReceiptApiController ржПрж░ ржорждрзЛржЗ рж╣ржмрзЗ тЬЕ

ЁЯФз Step 5: SalaryApiController.php
php
<?php

namespace App\Http\Controllers\Api;

use App\Http\Controllers\Controller;
use App\Models\Salary;
use App\Models\SalaryDetail;
use Illuminate\Http\Request;

class SalaryApiController extends Controller
{
    public function index()
    {
        $salaries = Salary::with(['employee', 'details.payroll_item'])->latest()->get();
        return response()->json($salaries);
    }

    public function store(Request $request)
    {
        $salary = Salary::create([
            'employee_id' => $request->employee_id,
            'salary_total' => array_sum(array_column($request->items, 'amount')),
            'status' => $request->status,
            'remarks' => $request->remarks,
            'created_at' => now(),
            'updated_at' => now()
        ]);

        foreach ($request->items as $item) {
            SalaryDetail::create([
                'salary_id' => $salary->id,
                'payroll_item_id' => $item['payroll_item_id'],
                'amount' => $item['amount']
            ]);
        }

        return response()->json([
            'message' => 'Salary created successfully',
            'data' => $salary
        ], 201);
    }

    public function show($id)
    {
        $salary = Salary::with(['employee', 'details.payroll_item'])->findOrFail($id);
        return response()->json($salary);
    }

    public function update(Request $request, $id)
    {
        $salary = Salary::findOrFail($id);
        $salary->update([
            'employee_id' => $request->employee_id,
            'salary_total' => array_sum(array_column($request->items, 'amount')),
            'status' => $request->status,
            'remarks' => $request->remarks,
            'updated_at' => now()
        ]);

        $salary->details()->delete();
        foreach ($request->items as $item) {
            SalaryDetail::create([
                'salary_id' => $salary->id,
                'payroll_item_id' => $item['payroll_item_id'],
                'amount' => $item['amount']
            ]);
        }

        return response()->json([
            'message' => 'Salary updated successfully',
            'data' => $salary
        ]);
    }

    public function destroy($id)
    {
        $salary = Salary::findOrFail($id);
        $salary->details()->delete();
        $salary->delete();

        return response()->json([
            'message' => 'Salary deleted successfully'
        ]);
    }
}
ЁЯФз Bonus: API Route
php
use App\Http\Controllers\Api\SalaryApiController;

Route::apiResource('salaries', SalaryApiController::class);